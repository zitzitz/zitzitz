require=function c(i,a,s){function l(t,e){if(!a[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[t]={exports:{}};i[t][0].call(n.exports,function(e){return l(i[t][1][e]||e)},n,n.exports,c,i,a,s)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({Balloon:[function(e,t,o){"use strict";cc._RF.push(t,"5c4b3C821hNf5QKsJlLG2H4","Balloon"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameSceneController"),n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveSpeed=50,e.wrongSound=null,e.notDestroy=!0,e}return __extends(e,t),e.prototype.start=function(){this.moveSpeed=150*Math.random()+100;var e=3*Math.random()+1;this.node.setScale(e),this.node.setLocalZOrder(e),this.wrongSound=cc.url.raw("Audio/beep.mp3")},e.prototype.update=function(e){this.notDestroy&&!r.GameSceneController.pause&&this.node.setPositionY(this.node.position.y+=this.moveSpeed*e),this.node.position.y>this.node.parent.height/2+this.node.height/2&&("wrong"!=this.getComponent(cc.Animation).currentClip.name&&(r.GameSceneController.life-=.1),this.node.destroy())},e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){r.GameSceneController.pause||(t.notDestroy=!1,t.node.getComponentInChildren(cc.ParticleSystem).resetSystem(),"wrong"==t.getComponent(cc.Animation).currentClip.name?(r.GameSceneController.life-=.1,cc.audioEngine.play(t.wrongSound,!1,.6)):(t.getComponent(cc.AudioSource).play(),r.GameSceneController.score++),t.scheduleOnce(function(){t.node.destroy()},.2))},this)},__decorate([i],e.prototype,"moveSpeed",void 0),e=__decorate([c],e)}(cc.Component);o.Balloon=a,cc._RF.pop()},{"./GameSceneController":"GameSceneController"}],GameOverController:[function(e,t,o){"use strict";cc._RF.push(t,"60356i2jeVEp5pLE1bw2hFJ","GameOverController"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("./HighScoreController"),n=e("./GameSceneController"),c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.setScoreLayout=null,e.scoreLabel=null,e.nameEditBox=null,e.highScore=null,e.name=null,e}return __extends(e,t),e.prototype.start=function(){this.highScore=new r.HighScoreController,this.setScoreLayout.active=!1,null!=JSON.parse(cc.sys.localStorage.getItem("highScoreValue"))&&JSON.parse(cc.sys.localStorage.getItem("highScoreValue")).length||this.highScore.startSetStorage(),n.GameSceneController.score>this.getMinScore()&&(this.scoreLabel.string=n.GameSceneController.score+"",this.setScoreLayout.active=!0)},e.prototype.toMainMenu=function(){cc.director.loadScene("MainMenu")},e.prototype.retry=function(){cc.director.loadScene("GameScene")},e.prototype.toHighScore=function(){cc.director.loadScene("HighScore")},e.prototype.OnSendButton=function(){""==this.nameEditBox.string?this.name="<unnamed>":this.name=this.nameEditBox.string,this.setScoreToHighScore(),cc.director.loadScene("HighScore")},e.prototype.setScoreToHighScore=function(){for(var e=JSON.parse(cc.sys.localStorage.getItem("highScoreValue")),t=JSON.parse(cc.sys.localStorage.getItem("highScoreNames")),o=0;o<e.length;++o)if(n.GameSceneController.score>e[o]){e.splice(o,0,n.GameSceneController.score),t.splice(o,0,this.name),e.splice(-1,1),t.splice(-1,1);break}this.setStorage(t,e)},e.prototype.setStorage=function(e,t){cc.sys.localStorage.setItem("highScoreNames",JSON.stringify(e)),cc.sys.localStorage.setItem("highScoreValue",JSON.stringify(t))},e.prototype.getMinScore=function(){return JSON.parse(cc.sys.localStorage.getItem("highScoreValue"))[9]},__decorate([a(cc.Node)],e.prototype,"setScoreLayout",void 0),__decorate([a(cc.Label)],e.prototype,"scoreLabel",void 0),__decorate([a(cc.EditBox)],e.prototype,"nameEditBox",void 0),e=__decorate([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameSceneController":"GameSceneController","./HighScoreController":"HighScoreController"}],GameSceneController:[function(e,t,o){"use strict";cc._RF.push(t,"fbc84horBlJWqDnc4+GGya5","GameSceneController"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balloonePrefab=null,e.scorealbel=null,e.menuButton=null,e.lifeBar=null,e.balloonInterval=.5,e.pauseMenu=null,e.ball=null,e.timer=5,e}var o;return __extends(e,t),(o=e).prototype.start=function(){this.visibleSize=new cc.Vec2(this.node.width,this.node.height),o.pause=!1,o.score=0,o.life=1,this.pauseMenu=this.node.getChildByName("PauseMenu"),this.pauseMenu.setLocalZOrder(99),this.scorealbel.node.setPosition(new cc.Vec2(this.visibleSize.x-130,this.visibleSize.y-40)),this.menuButton.setPosition(new cc.Vec2(this.visibleSize.x-80,80)),this.lifeBar.node.setPosition(new cc.Vec2(70,this.visibleSize.y-40))},e.prototype.update=function(e){o.life<.1&&this.toGameOverScene(),o.pause||this.balloonRunUp(e),this.lifeBar.progress=o.life,this.scorealbel.string="score: "+o.score},e.prototype.randomColor=function(e){switch(Math.floor(10*Math.random())){case 0:e.play("red");break;case 1:e.play("orange");break;case 2:e.play("yellow");break;case 3:e.play("green");break;case 4:e.play("blue");break;case 5:e.play("indigo");break;case 6:e.play("violet");break;default:e.play("wrong")}},e.prototype.randomPosition=function(){return Math.random()*(this.node.width/2-this.ball.width/2-(-this.node.width/2+this.ball.width/2))+(-this.node.width/2+this.ball.width/2)},e.prototype.balloonRunUp=function(e){if(this.timer+=e,this.timer>this.balloonInterval){this.ball=cc.instantiate(this.balloonePrefab);var t=this.ball.getComponent(cc.Animation);this.randomColor(t),this.node.addChild(this.ball),this.ball.setPosition(new cc.Vec2(this.randomPosition(),-this.node.height/2-this.ball.height/2)),this.timer=0}},e.prototype.onPauseButton=function(){o.pause?o.pause=!1:o.pause=!0,this.pauseMenu.active?this.pauseMenu.active=!1:this.pauseMenu.active=!0},e.prototype.toMainMenu=function(){cc.director.loadScene("MainMenu")},e.prototype.toGameOverScene=function(){cc.director.loadScene("GameOver")},e.prototype.restart=function(){cc.director.loadScene("GameScene")},e.score=0,e.life=1,e.pause=!1,__decorate([c(cc.Prefab)],e.prototype,"balloonePrefab",void 0),__decorate([c(cc.Label)],e.prototype,"scorealbel",void 0),__decorate([c(cc.Node)],e.prototype,"menuButton",void 0),__decorate([c(cc.ProgressBar)],e.prototype,"lifeBar",void 0),__decorate([c],e.prototype,"balloonInterval",void 0),e=o=__decorate([n],e)}(cc.Component);o.GameSceneController=i,cc._RF.pop()},{}],HighScoreController:[function(e,t,o){"use strict";cc._RF.push(t,"46e93Hbwu9KgJSasahVXXJM","HighScoreController"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,c=r.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backButton=null,e.nameLabels=[],e.scoreLabels=[],e.names=[],e.score=[],e}return __extends(e,t),e.prototype.start=function(){this.backButton.node.setPosition(this.node.width-50,50),null!=JSON.parse(cc.sys.localStorage.getItem("highScoreValue"))&&JSON.parse(cc.sys.localStorage.getItem("highScoreValue")).length||this.startSetStorage(),this.getStorage()},e.prototype.toMainMenu=function(){cc.director.loadScene("MainMenu")},e.prototype.startSetStorage=function(){this.labelToValue(),cc.sys.localStorage.setItem("highScoreNames",JSON.stringify(this.names)),cc.sys.localStorage.setItem("highScoreValue",JSON.stringify(this.score))},e.prototype.getStorage=function(){this.names=JSON.parse(cc.sys.localStorage.getItem("highScoreNames")),this.score=JSON.parse(cc.sys.localStorage.getItem("highScoreValue")),console.log("Get Storage "+this.names),this.valueToLabel()},e.prototype.labelToValue=function(){for(var e=0;e<this.nameLabels.length;++e)this.names[e]=this.nameLabels[e].string,this.score[e]=+this.scoreLabels[e].string},e.prototype.valueToLabel=function(){for(var e=0;e<this.names.length;++e)this.nameLabels[e].string=this.names[e],this.scoreLabels[e].string=this.score[e]+""},__decorate([c(cc.Button)],e.prototype,"backButton",void 0),__decorate([c([cc.Label])],e.prototype,"nameLabels",void 0),__decorate([c([cc.Label])],e.prototype,"scoreLabels",void 0),e=__decorate([n],e)}(cc.Component);o.HighScoreController=i,cc._RF.pop()},{}],MenuSceneController:[function(e,t,o){"use strict";cc._RF.push(t,"a71d3ZQHuZOd7JzH5BcJUFr","MenuSceneController"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.onPlayButton=function(){cc.director.loadScene("GameScene")},t.prototype.onQuitButton=function(){cc.game.end()},t.prototype.toHighScoreScene=function(){cc.director.loadScene("HighScore")},t=__decorate([n],t)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["Balloon","GameOverController","GameSceneController","HighScoreController","MenuSceneController"]);